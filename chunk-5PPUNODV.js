import{a as R,c as S}from"./chunk-C27Q2S3P.js";import{a as P}from"./chunk-TOH4K6HW.js";import{q as M}from"./chunk-B3FO6PT7.js";import{k as m,n as u}from"./chunk-Z5Q7KLA4.js";import{a as f}from"./chunk-4XZ6X7MQ.js";import{B as y,ha as p}from"./chunk-KGVXGH6H.js";function U(e,o){return Math.log(e)/Math.log(o)}function v(e,o,i){let s=e===1?10:e;return s**(i?Math.round(U(50/o,s)):0)}function F(e){let{isGeographic:o,isWebMercator:i}=e;return!o&&!i}function z(e,o,i){let s=typeof e=="number"?null:e,r=i??s?.spatialReference;if(r==null||!y(r)||F(r))return p(r);let n=s?.x??e,a=s?.y??o,h=1/Math.sqrt(2),l=n+h,c=a+h,{isWebMercator:d,isGeographic:G}=r,g=G&&!R(r)?f.WGS84:r;if(d){let t=new u({x:n,y:a,spatialReference:r});m(t,!0,t),n=t.x,a=t.y,t=new u({x:l,y:c,spatialReference:r}),m(t,!0,t),l=t.x,c=t.y,g=f.WGS84}let W=new M({paths:[[[n,a],[l,c]]],spatialReference:g}),b=P(W,10),x;try{[x]=S([b],"meters")}catch{return p(r)}return x}export{v as a,z as b};
