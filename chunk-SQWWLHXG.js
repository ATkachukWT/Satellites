import{h as o,i as m}from"./chunk-VDP755DS.js";import"./chunk-FQTXYWH5.js";import"./chunk-KLXERNY4.js";import"./chunk-GWZ4F32U.js";import"./chunk-UO5Q6C3A.js";import{d as y,e as l,f as n,g as i}from"./chunk-K27EVVBH.js";import"./chunk-TPFJWNIU.js";import"./chunk-P25RU3X5.js";import"./chunk-XRRQM4E2.js";import"./chunk-GWBRHLNH.js";import"./chunk-BOVYXYHK.js";import"./chunk-JGEVVXD4.js";import"./chunk-B3FO6PT7.js";import"./chunk-C4UMJHQC.js";import"./chunk-BCREO4Q5.js";import"./chunk-LXFQWIWE.js";import"./chunk-QT6UNBJP.js";import"./chunk-XZIOXVVJ.js";import"./chunk-5RAXVJQI.js";import"./chunk-EXJYW3PC.js";import"./chunk-SXQPBCOX.js";import"./chunk-LFH24RLM.js";import"./chunk-Z5Q7KLA4.js";import"./chunk-X4LNX4BR.js";import"./chunk-4XZ6X7MQ.js";import"./chunk-WLHY3MMA.js";import"./chunk-KGVXGH6H.js";import"./chunk-ARRCN5K3.js";import"./chunk-LXQPIAN7.js";import"./chunk-FTDD7QBB.js";import"./chunk-DB3UIQCU.js";import"./chunk-SBHKMV3P.js";import"./chunk-R4A63S45.js";import"./chunk-ETE32IYO.js";import"./chunk-ONUGDWDK.js";import"./chunk-SG7CQU4O.js";import"./chunk-QHVIRF5H.js";import"./chunk-WZDN6K3C.js";import"./chunk-QGVBCWUY.js";import"./chunk-OJQ73TPF.js";import"./chunk-354SCPDU.js";import"./chunk-OVHPPCBL.js";import"./chunk-IYZFKXJ6.js";import"./chunk-CKJ56T2Q.js";import"./chunk-SNFOAZZQ.js";import"./chunk-F6JAWRPN.js";import"./chunk-UHRSAPGQ.js";import"./chunk-V76GWARL.js";import"./chunk-N2WTMF3X.js";var c="Image Service",u="imagery-layer-save",d="imagery-layer-save-as",f="imagery-tile-layer-save",w="imagery-tile-layer-save-as",p="WCS",T="wcs-layer-save",I="wcs-layer-save-as";function g(e){if(e.type==="imagery"||e.type==="wcs")return{isValid:!0};let{raster:a}=e,r=a?.datasetFormat==="Function"?a.primaryRasters?.rasters[0]:a;return{isValid:r?.datasetFormat==="RasterTileServer"&&(r.tileType==="Raster"||r.tileType==="Map"),errorMessage:"imagery tile layer should be created from a tiled image service."}}function v(e){let a=e.layerJSON;return Promise.resolve(a&&Object.keys(a).length?a:null)}async function x(e,a){let{parsedUrl:r,title:t,fullExtent:s}=e;a.url=r.path,a.title||=t;try{a.extent=await n(s)}catch{a.extent=void 0}y(a,i.METADATA),l(a,i.TILED_IMAGERY,e.type==="imagery-tile")}async function S(e,a){let r=e.type==="imagery"?u:e.type==="imagery-tile"?f:T,t=e.type==="wcs"?p:c;return o({layer:e,itemType:t,validateLayer:g,createItemData:v,errorNamePrefix:r},a)}async function h(e,a,r){let t=e.type==="imagery"?d:e.type==="imagery-tile"?w:I,s=e.type==="wcs"?p:c;return m({layer:e,itemType:s,validateLayer:g,createItemData:v,errorNamePrefix:t,newItem:a,setItemProperties:x},r)}export{S as save,h as saveAs};
