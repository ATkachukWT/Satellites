import{a as xe,b as Le,c as ve,d as B}from"./chunk-UZ3LPMUO.js";import{c as _,d as C,g as ge,h as _e,i as Ce,j as Pe,k as Oe}from"./chunk-YAHHW2G4.js";import{d as ye}from"./chunk-LG7DXNE4.js";import{b as de}from"./chunk-5QOQFLF6.js";import{c as he,d as fe,g as be,h as H,i as pe}from"./chunk-SPPN4AOM.js";import{b as me}from"./chunk-LHI3UGTZ.js";import{b as ue}from"./chunk-PM3EZWDJ.js";import{a as oe}from"./chunk-2T2QPZOS.js";import{q as ce}from"./chunk-I4Q2S2XA.js";import{a as le,d as re}from"./chunk-KRAKR4MK.js";import{d as te,r as se,t as ae}from"./chunk-KD27XIJC.js";import{a as O}from"./chunk-RWCIDBNQ.js";import{c as ne}from"./chunk-EM35R6FY.js";import{a as ie,c as F}from"./chunk-6B5XFA6F.js";import{c as ee,i as k}from"./chunk-BOVYXYHK.js";import{a as M}from"./chunk-MWSXMSWY.js";import{a as Q,c as X}from"./chunk-JRCKELO6.js";import{H as P,J as K}from"./chunk-QHVIRF5H.js";import{I as J}from"./chunk-WZDN6K3C.js";import{a as g}from"./chunk-QGVBCWUY.js";import{D as Y,c as T,e as Z,v as u}from"./chunk-CKJ56T2Q.js";import{r as v}from"./chunk-UHRSAPGQ.js";function w(t){return t instanceof Oe?t.graphics3DSymbol:t instanceof Pe?t:null}var S=()=>v.getLogger("esri.views.3d.layers.graphics.labelPlacement"),A=class{constructor(e,s,a,l=null){this._graphic=e,this._symbol=s,this._class=a,this._disablePlacement=l}get placement(){let e=this._verticalOffsetPlacement;if(e==null)return null;let s=this._getPlacementInfo(e);if(s==null)return null;let a=s.anchor,l=!!e.hasLabelVerticalOffset,r=e.verticalOffset,i=new xe(r,a,l);return this._calculatePlacementOffsets(i,s)}get _verticalOffsetPlacement(){let e=this._class.labelPlacement,{_symbol:s,_graphic:a}=this,l=w(a.graphics3DSymbol),r=l?.symbol.type==="point-3d"?l.symbol:null,i=h[e]||this._defaultPlacementInfo;return r?.supportsCallout()&&r.hasVisibleVerticalOffset()&&!a.isDraped?{placement:null,hasLabelVerticalOffset:!1,verticalOffset:r.verticalOffset.clone(),anchor:null,normalizedOffset:null}:!s?.hasVisibleVerticalOffset()||r!=null&&r.supportsCallout()&&r.verticalOffset&&!a.isDraped?{placement:null,verticalOffset:null,anchor:null,normalizedOffset:null,hasLabelVerticalOffset:!1}:i&&De(i.placement)?{placement:"above-center",verticalOffset:s.verticalOffset.clone(),anchor:"bottom",normalizedOffset:[0,i.normalizedOffset[1],0],hasLabelVerticalOffset:!0}:(S().errorOncePerTick("Callouts and vertical offset on labels are currently only supported with 'above-center' label placement (not with "+e+" placement)"),null)}_getPlacementInfo(e){if(e.anchor)return e;let s=this._class.labelPlacement,a=h[s],l=a||this._defaultPlacementInfo;return s&&!a&&S().warnOncePerTick(`the requested label placement '${s}' is currently unsupported in SceneView.`),this._validatePlacementInfo(l)}_calculatePlacementOffsets(e,s){let a=this._graphic.graphic.geometry;if(a==null)return null;switch(a.type){case"point":this._setPointSpecificPlacement(e,s);break;case"mesh":this._setMeshSpecificPlacement(e,s);break;case"polygon":this._setPolygonSpecificPlacement(e,s)}let l=ye-he;return e.screenOffset[0]+=l*s.normalizedOffset[0],e.screenOffset[1]+=l*s.normalizedOffset[1],e}get _defaultPlacementInfo(){let e=this._graphic.graphic.geometry;if(e==null)return null;switch(e.type){case"polyline":case"extent":case"multipoint":return{placement:"center-center",normalizedOffset:k,anchor:"center"};case"polygon":return this._firstSymbolLayer?.type==="extrude"?h["above-center"]:{placement:"center-center",normalizedOffset:k,anchor:"center"};case"point":case"mesh":return h["above-center"];default:return}}_validatePlacementInfo(e){let s=this._graphic.graphic.geometry;if(s==null)return null;if(this._disablePlacement!=null)return this._class.labelPlacement?(S().warnOncePerTick(we(e?.placement,this._disablePlacement.logEntityDescription)),this._defaultPlacementInfo):e;let a=s.type;switch(a){case"polyline":case"polygon":case"extent":case"multipoint":if(this._class.labelPlacement)return S().warnOncePerTick(we(e?.placement,`'${a}' geometries`)),this._defaultPlacementInfo;break;case"point":case"mesh":return e}return e}_setPointSpecificPlacement(e,s){let a=this._firstSymbolLayer;if(a==null)return;let l=this._graphic.layers[0];switch(l!=null?l.getCenterObjectSpace(e.translation):F(e.translation,0,0,0),a.type){case"icon":case"text":this._setHUDSpecificPlacement(e,s,l);break;case"object":j(e,s,l)}}_setMeshSpecificPlacement(e,s){let a=this._firstSymbolLayer;a!=null&&a.type==="fill"&&j(e,s,this._graphic.layers[0])}_setPolygonSpecificPlacement(e,s){let a=this._firstSymbolLayer;if(a!=null)switch(a.type){case"extrude":{let l=this._graphic.layers[0];l!=null?(l.getBoundingBoxObjectSpace(G),ae(G,e.translation),e.translation[2]=se(G)/2):F(e.translation,0,0,0),j(e,s,l);break}}}_setHUDSpecificPlacement(e,s,a){let{_graphic:l}=this,r=a!=null?a.getScreenSize():null;if(l.isDraped||r==null)e.hasLabelVerticalOffset||e.anchor==="center"||(h[this._class.labelPlacement]&&S().warnOncePerTick(`the requested placement '${s.placement}' is currently unsupported for draped graphics`),e.anchor="center");else{let i=this._normalizedSymbolAnchorPos;e.screenOffset[0]=r[0]/2*(s.normalizedOffset[0]-i[0]);let n=r[1]/2*(s.normalizedOffset[1]-i[1]);e.hasLabelVerticalOffset?(e.centerOffset[1]=n,e.centerOffsetUnits="screen"):e.screenOffset[1]=n}}get _firstSymbolLayer(){let e=this._graphic.graphics3DSymbol,s=w(e);return s!=null?s.symbol.symbolLayers.at(0):null}get _normalizedSymbolAnchorPos(){let e=this._graphic.layers[0],s=e?.stageObject.geometries[0].material??null;if(s&&s instanceof me){let a=s.parameters.anchorPosition;D[0]=2*(a[0]-.5),D[1]=2*(a[1]-.5)}else D[0]=0,D[1]=0;return D}};function we(t,e){return`the requested label placement '${t}' is currently unsupported for ${e} in SceneView.`}function j(t,e,s){let a=s!=null?s.getBoundingBoxObjectSpace(G):G,l=ee(a[3]-a[0],a[4]-a[1],a[5]-a[2]),r=Math.sqrt(l[0]*l[0]+l[1]*l[1]);t.centerOffset[0]=r/2*e.normalizedOffset[0];let i=t.translation[2],n=l[2]/2*e.normalizedOffset[1];t.translation[2]=0,t.elevationOffset=i+n;let o=ie(l);t.centerOffset[2]=o/2*e.normalizedOffset[2]}function De(t){return t==="above-center"}var h={"above-center":{placement:"above-center",normalizedOffset:[0,1,0],anchor:"bottom"},"above-left":{placement:"above-left",normalizedOffset:[-1,1,0],anchor:"bottom-right"},"above-right":{placement:"above-right",normalizedOffset:[1,1,0],anchor:"bottom-left"},"below-center":{placement:"below-center",normalizedOffset:[0,-1,2],anchor:"top"},"below-left":{placement:"below-left",normalizedOffset:[-1,-1,0],anchor:"top-right"},"below-right":{placement:"below-right",normalizedOffset:[1,-1,0],anchor:"top-left"},"center-center":{placement:"center-center",normalizedOffset:[0,0,1],anchor:"center"},"center-left":{placement:"center-left",normalizedOffset:[-1,0,0],anchor:"right"},"center-right":{placement:"center-right",normalizedOffset:[1,0,0],anchor:"left"}},Se={"above-center":["default","esriServerPointLabelPlacementAboveCenter"],"above-left":["esriServerPointLabelPlacementAboveLeft"],"above-right":["esriServerPointLabelPlacementAboveRight"],"below-center":["esriServerPointLabelPlacementBelowCenter"],"below-left":["esriServerPointLabelPlacementBelowLeft"],"below-right":["esriServerPointLabelPlacementBelowRight"],"center-center":["esriServerPointLabelPlacementCenterCenter"],"center-left":["esriServerPointLabelPlacementCenterLeft"],"center-right":["esriServerPointLabelPlacementCenterRight"]};for(let t in Se){let e=Se[t],s=h[t];e.forEach(a=>{h[a]=s})}Object.freeze&&(Object.freeze(h),Object.keys(h).forEach(t=>{Object.freeze(h[t]),Object.freeze(h[t]?.normalizedOffset)}));var D=[0,0],G=te();var I=class{constructor(e){this._stage=e,this._materials=new Map}get(e){return this._materials.get(e)}add(e,s){this._materials.set(e,s),this._stage.add(s)}dispose(){this._stage.removeMany(Array.from(this._materials.values())),this._materials.clear()}};var R=class{constructor(e,s){this.labelingContext=e,this.graphics3DGraphic=s,this.hasGraphics3DResources=!1,this.visible=!1,this.textureAtlasHandles=[],this.textInitialized=!1,this.textRenderers=new Array,this.textLabelPlacements=new Array}},W=class{constructor(e,s,a,l,r){this.labelClass=e,this.graphics3DSymbol=s,this.graphics3DCalloutSymbolLayer=a,this.textRenderParameters=l,this.labelFunction=r,this.calloutSymbolLayerIndex=0}},q=class{constructor(e,s,a,l,r,i,n,o){this.layer=s,this.graphics3DCore=a,this.scaleVisibility=l,this.emptySymbolLabelSupported=r,this.elevationInfoOverride=i,this.disablePlacement=n,this.active=o,this.labelClassAbortController=new AbortController,this.labelClassContexts=new Array,this.graphics=new Map,this.labelsToInitialize=new Map,this.stageLayer=new de(e,{pickable:!0,disableOctree:!0},s.uid)}destroy(){this.stageLayer.destroy()}},x=class extends K{constructor(t){super(t),this._dirty=!1,this._labels=new Map,this._labelingContexts=new Array}setup(){this.dispose(),this.addHandles([M(()=>this.view.state?.camera,()=>this.setDirty()),M(()=>this.view.state?.rasterPixelRatio,()=>this._resetAllLabels()),this.view.resourceController.scheduler.registerTask(re.LABELER,this)]),this._textTextureAtlas=new B({view:this.view}),this._hudMaterialCollection=new I(this.view._stage),this._calloutMaterialCollection=new I(this.view._stage)}dispose(){this.removeAllHandles(),this._textTextureAtlas=T(this._textTextureAtlas),this._hudMaterialCollection=T(this._hudMaterialCollection),this._calloutMaterialCollection=T(this._calloutMaterialCollection),this._labelingContexts.length=0,this._labels.clear()}destroy(){this.dispose(),f.graphic=null,f.renderingInfo=null,f.layer=null}_activateLabelingContext(t){t.graphics.forEach((e,s)=>{let a=new R(t,e);this._labels.set(s,a),t.labelsToInitialize.set(s,a),e.setVisibilityFlag(C.LABEL,_.USER,!0)}),t.active=!0}_deactivateLabelingContext(t){t.graphics.forEach((e,s)=>{e.setVisibilityFlag(C.LABEL,_.USER,!1),this.setLabelGraphicVisibility(e,!1),e.clearLabelGraphics(),this._labels.delete(s)}),t.active=!1}_addLabelTextureToAtlas(t){for(let e of t.graphics3DGraphic.labelLayers){if(!e._labelClass)continue;let s=t.textRenderers[e._labelIndex];s&&(t.textureAtlasHandles.push(this._textTextureAtlas.addText(s,a=>Ae(e.stageObject,a))),Ge(e.stageObject,s))}}_removeLabelTextureFromAtlas(t){t.textureAtlasHandles.forEach(e=>e.remove()),t.textureAtlasHandles.length=0}get running(){return this.view.ready&&(this._dirty||this.deconflictor.running)}runTask(t){return this._updateLabels(t),!this._dirty&&this.deconflictor.running&&this.deconflictor.runTask(t),le}_updateLabels(t){if(this._dirty){this._dirty=!1;for(let e of this._labelingContexts)if(e.active){if(U(e))this._dirty=!0;else if($(e.labelClassContexts)){if(e.labelClassContexts===null){this._deactivateLabelingContext(e);continue}this._createLabelClassContext(e),this._dirty=!0}else for(let[s,a]of e.labelsToInitialize)if(this._ensureGraphics3DResources(a)&&(this._labels.set(s,a),this.deconflictor.setDirty(),t.madeProgress()),(a.visible&&a.textInitialized||!a.visible&&a.hasGraphics3DResources)&&(e.labelsToInitialize.delete(s),t.madeProgress()),t.done){this._dirty=!0;break}}this._dirty||this.notifyChange("updating")}}async _createLabelClassContextAsync(t){let e=t.labelClassAbortController?.signal;t.layer.when&&await t.layer.when(),u(e),t.scaleVisibility?.updateScaleRangeActive();let s=t.graphics3DCore,a=s.layer,l=a.labelingInfo?.filter(i=>!!i.symbol);if(!l||l.length===0)return;let r=!1;await Q(l,async(i,n)=>{let o=i.symbol,p=w(s.getOrCreateGraphics3DSymbol(o));if(p==null)return void v.getLogger(this).error("Failed to create Graphics3DSymbol for label");await p.load(),u(e);let b=null;ce(o)&&o.hasVisibleCallout()&&(b=Ce(o,s.symbolCreationContext),await b.load(),u(e));let c=await X(oe(i,t.layer.fieldsIndex,this.view.spatialReference));if(u(e),c.ok===!0){let d=await this._createTextRenderParameters(p.symbol);u(e),t.labelClassContexts[n]=new W(i,p,b,d,c.value)}else v.getLogger(this).error(`Label expression failed to evaluate: ${c.error}`),r=!0}),u(e)}async _createLabelClassContext(t){return t.labelClassPromise==null&&(t.labelClassPromise=this._createLabelClassContextAsync(t).catch(e=>{if(Y(e))throw e;t.labelClassContexts.length=0}).then(()=>{t.labelClassAbortController=null,this.notifyChange("updating")}).catch(()=>{}),this.notifyChange("updating")),t.labelClassPromise}async _createTextRenderParameters(t){let e=t.symbolLayers.at(0);return e?.type!=="text"?null:ve.fromSymbol(e,this.view.state.rasterPixelRatio)}_destroyLabelClassContext(t){for(let s of t.labelClassContexts)--s.graphics3DSymbol.referenced;let e=t.labelClassAbortController;t.labelClassAbortController=new AbortController,Z(e),t.labelClassContexts.length=0,t.labelClassPromise=null,this.notifyChange("updating")}_createTextSymbolGraphic(t,e,s,a,l,r){let i=new Le(s,H(s.anchor),pe(s.anchor),t.text,ne(t.displayWidth,t.displayHeight));return f.graphic=e,f.layer=a,f.renderingInfo=null,l.createLabel(f,i,this._hudMaterialCollection,this._textTextureAtlas,()=>r.placement?.elevationOffset??null)}_createLineCalloutGraphic(t,e,s,a,l){f.graphic=t,f.layer=l;let r=a.screenOffset[0];return f.renderingInfo=new ge(null,e,a.translation,a.centerOffset,r,a.centerOffsetUnits,a.elevationOffset,this._calloutMaterialCollection),s.createGraphics3DGraphic(f)}_ensureGraphics3DResources(t){if(t.hasGraphics3DResources)return!1;let e=t.graphics3DGraphic;if(e.destroyed)return!1;this._ensureTextTextureResources(t);let s=t.labelingContext,a=s.labelClassContexts;if($(a)||!s.emptySymbolLabelSupported&&e.layers.length===0)return!1;let l=!1,r=e.graphic,i=s.layer,n=z(s.layer);for(let o=0;o<a.length;o++){let p=t.textRenderers[o],b=t.textLabelPlacements[o];if(p==null||b==null)continue;let c=a[o],d=c.graphics3DSymbol,y=Ie(d),L=d.symbolLayers[0];if(!L)continue;L.setElevationInfoOverride(s.elevationInfoOverride);let V=new A(e,y,c.labelClass),m=this._createTextSymbolGraphic(p,r,b,i,L,V);if(m==null)return!1;m._labelClass=c.labelClass,m._labelIndex=o,e.addLabelGraphic(m,s.stageLayer),e.deconflictionPriority=c.textRenderParameters?.definition.size??0,e.setVisibilityFlag(C.LABEL,_.USER,n),e.setVisibilityFlag(C.LABEL,_.SCALE_RANGE,!0),e.setVisibilityFlag(C.LABEL,_.DECONFLICTION,!1),l=!0;let E=c.graphics3DCalloutSymbolLayer;if(E&&b.hasLabelVerticalOffset){E.setElevationInfoOverride(s.elevationInfoOverride);let N=this._createLineCalloutGraphic(r,y,E,b,i);N!=null&&(c.calloutSymbolLayerIndex=e.labelLayers.length,e.addLabelGraphic(N,s.stageLayer))}break}return l&&s.scaleVisibility?.updateGraphicLabelScaleVisibility(e),t.hasGraphics3DResources=!0,!0}_destroyGraphics3DResources(t){let e=t.labelingContext.labelClassContexts;for(let s of t.graphics3DGraphic.labelLayers){if(s._labelClass==null)continue;e[s._labelIndex].graphics3DSymbol.symbolLayers[0]?.onRemoveGraphic(s)}t.graphics3DGraphic.deconflictionPriority=0,t.graphics3DGraphic.clearLabelGraphics(),t.hasGraphics3DResources=!1}_ensureTextTextureResources(t){if(t.textInitialized)return;let e=t.labelingContext,s=e.labelClassContexts;if($(s))return;let a=t.graphics3DGraphic.graphic;for(let l=0;l<s.length;l++){let r=s[l];if(t.textRenderers[l]=null,t.textLabelPlacements[l]=null,r?.textRenderParameters==null)continue;let i=r.labelFunction,n;if(i.type==="arcade")try{let m=i.needsHydrationToEvaluate()?ue(a,e.layer):a;n=i.evaluate(m)}catch{n=null}else n=i.evaluate(a);if(n==null||n===""||/^\s+$/.test(n))continue;let o=r.graphics3DSymbol;if(!o.symbolLayers[0])continue;let p=t.graphics3DGraphic,b=o.symbol?.type==="label-3d"?o.symbol:null,c=r.labelClass,d=e.disablePlacement,y=new A(p,b,c,d).placement;if(y==null)continue;let L=H(y.anchor),V=be(L);t.textRenderers[l]=new fe(n,V,r.textRenderParameters,B.maxSize),t.textLabelPlacements[l]=y}t.textInitialized=!0}_destroyTextTextureResources(t){t.textInitialized=!1,t.textRenderers.length=0,t.textLabelPlacements.length=0}_addGraphic(t,e){let s=e.graphic.uid;if(t.graphics.set(s,e),t.active){let a=new R(t,e);this._labels.set(s,a),t.labelsToInitialize.set(s,a)}this.setDirty(),this.deconflictor.setDirty()}_updateGraphicGeometry(t,e){let s=e.graphic.uid,a=this._labels.get(s);if(!a)return!0;for(let l of a.graphics3DGraphic.labelLayers)if(l._labelClass!=null&&!t.labelClassContexts[l._labelIndex].graphics3DSymbol.symbolLayers[0].updateGeometry(l,e.graphic.geometry))return!1;return this.setDirty(),this.deconflictor.setDirty(),!0}_removeGraphic(t,e){let s=e.graphic.uid,a=this._labels.get(s);t.graphics.delete(s),a&&(this._destroyGraphic(a,s),t.labelsToInitialize.delete(s),this.setDirty(),this.deconflictor.setDirty())}_destroyGraphic(t,e){this._labels.delete(e),t.textureAtlasHandles.length&&this._removeLabelTextureFromAtlas(t),this._destroyTextTextureResources(t),t.hasGraphics3DResources&&this._destroyGraphics3DResources(t)}async _labelingInfoChange(t,e){if(!e)return this._visibilityInfoChange(t),this._resetLabels(t),this._createLabelClassContext(t);for(let s of e){let a=t.graphics.get(s);a&&(this._removeGraphic(t,a),this._addGraphic(t,a))}}_globalPropertyChanged(t,e){for(let s of e.labelClassContexts){let a=new Map;e.graphics.forEach(r=>a.set(r.graphic.uid,r));let l=r=>r.labelLayers[0];if(s.graphics3DSymbol.symbolLayers[0].globalPropertyChanged(t,a,l),s.graphics3DCalloutSymbolLayer){let r=i=>i.labelLayers[s.calloutSymbolLayerIndex];s.graphics3DCalloutSymbolLayer.globalPropertyChanged(t,a,r)}}}_visibilityInfoChange(t){let e=z(t.layer);e&&!t.active&&this._activateLabelingContext(t),!e&&t.active&&this._deactivateLabelingContext(t),this.setDirty()}_resetAllLabels(){for(let t of this._labelingContexts)this._resetLabels(t)}_resetLabels(t){t.graphics.forEach((e,s)=>{let a=this._labels.get(s);a&&(this._destroyGraphic(a,s),a.visible=!1,t.labelsToInitialize.set(s,a))}),this._destroyLabelClassContext(t),this.setDirty(),this.deconflictor.setDirty()}_findLabelingContext(t){for(let e of this._labelingContexts)if(e.graphics3DCore===t)return e;return null}addGraphicsOwner(t,e,s){let a=s?.emptySymbolLabelSupported||!1,l=s?.elevationInfoOverride||null,r=s?.disablePlacement||null;if(this._findLabelingContext(t))return;let i=t.layer,n=new q(this.view._stage,i,t,e,a,l,r,z(i));return this._labelingContexts.push(n),this.setDirty(),{addGraphic:o=>this._addGraphic(n,o),removeGraphic:o=>this._removeGraphic(n,o),updateGraphicGeometry:o=>this._updateGraphicGeometry(n,o),layerLabelsEnabled:()=>z(n.layer),labelingInfoChange:o=>this._labelingInfoChange(n,o),elevationInfoChange:()=>this._globalPropertyChanged("elevationInfo",n),slicePlaneEnabledChange:()=>this._globalPropertyChanged("slicePlaneEnabled",n),visibilityInfoChange:()=>this._visibilityInfoChange(n),reset:()=>this._resetLabels(n),remove:()=>this._removeGraphicsOwner(t),setDirty:()=>this.setDirty()}}_removeGraphicsOwner(t){let e=this._findLabelingContext(t);if(!e)return;let s=this._labelingContexts.indexOf(e);this._labelingContexts.splice(s,1),e.graphics.forEach(a=>this._removeGraphic(e,a)),e.destroy(),this.setDirty()}setLabelGraphicVisibility(t,e){let s=t.graphic.uid,a=this._labels.get(s);a&&a.visible!==e&&(e&&!a.textureAtlasHandles.length?(this._addLabelTextureToAtlas(a),a.textInitialized||a.labelingContext.labelsToInitialize.set(s,a)):!e&&a.textureAtlasHandles.length&&this._removeLabelTextureFromAtlas(a),a.visible=e,this.setDirty())}setDirty(){!this._dirty&&this._labelingContexts.length>0&&(this._dirty=!0,this.notifyChange("updating"))}get updating(){return this._dirty||this._textTextureAtlas?.updating||this.deconflictor.updating||this._labelingContexts.some(t=>U(t))}get updatingProgress(){if(!this.updating||!this._textTextureAtlas)return 1;let t=this._labelingContexts.length>0?this._labelingContexts.reduce((e,s)=>e+(U(s)?0:1),0)/this._labelingContexts.length:1;return(this._dirty?0:.3)+(this._textTextureAtlas.updating?0:.1)+.1*t+.5*this.deconflictor.updatingProgress}get test(){}};function Ge(t,e){t.geometries[0].setAttributeData(O.SIZE,[e.displayWidth,e.displayHeight]),t.geometryVertexAttributeUpdated(t.geometries[0],O.SIZE)}function Ae(t,e){t.geometries[0].setAttributeData(O.UV0,e),t.geometryVertexAttributeUpdated(t.geometries[0],O.UV0,!0)}function U(t){return!!t.labelClassPromise&&!!t.labelClassAbortController}function $(t){return!t||t.length===0}function Ie(t){return t.symbol?.type==="label-3d"?t.symbol:null}function z(t){return t.labelsVisible===!0&&!!t.labelingInfo?.some(e=>!!e.symbol)}g([P({constructOnly:!0})],x.prototype,"view",void 0),g([P({constructOnly:!0})],x.prototype,"deconflictor",void 0),g([P()],x.prototype,"_textTextureAtlas",void 0),g([P({type:Boolean,readOnly:!0})],x.prototype,"updating",null),x=g([J("esri.views.3d.layers.graphics.Labeler")],x);var f=new _e(null,null,null);export{x as a,z as b};
