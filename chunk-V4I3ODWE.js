import{a as A}from"./chunk-2U44WK2Y.js";import{a as f}from"./chunk-JUMM5VTE.js";import"./chunk-GPDZGV7G.js";import"./chunk-BPX3YT3K.js";import"./chunk-KBDKZSTB.js";import"./chunk-PMVQ5DJK.js";import"./chunk-DVBZA6ZU.js";import{a as d,j as V}from"./chunk-MWSXMSWY.js";import{f as p}from"./chunk-JRCKELO6.js";import{c as u}from"./chunk-YR2HD3ZC.js";import"./chunk-GJASVPF6.js";import"./chunk-XZIOXVVJ.js";import"./chunk-X4LNX4BR.js";import"./chunk-WLHY3MMA.js";import"./chunk-KGVXGH6H.js";import"./chunk-ARRCN5K3.js";import"./chunk-LXQPIAN7.js";import"./chunk-SBHKMV3P.js";import"./chunk-R4A63S45.js";import"./chunk-ETE32IYO.js";import"./chunk-ONUGDWDK.js";import"./chunk-SG7CQU4O.js";import{H as a}from"./chunk-QHVIRF5H.js";import{I as l}from"./chunk-WZDN6K3C.js";import{a as e}from"./chunk-QGVBCWUY.js";import"./chunk-OJQ73TPF.js";import"./chunk-354SCPDU.js";import"./chunk-OVHPPCBL.js";import"./chunk-IYZFKXJ6.js";import{b as h,e as m,u as n,x as c}from"./chunk-CKJ56T2Q.js";import"./chunk-SNFOAZZQ.js";import"./chunk-F6JAWRPN.js";import{t as w}from"./chunk-UHRSAPGQ.js";import"./chunk-V76GWARL.js";import"./chunk-N2WTMF3X.js";var _=t=>{let s=class extends t{constructor(...i){super(...i),this.layer=null}get interactive(){return this.analysisView!=null&&this.analysisView.interactive}set interactive(i){this.analysisView!=null&&(this.analysisView.interactive=i)}get results(){return this.analysisView?.results??new u}get selectedDimension(){return this.analysisView!=null?this.analysisView.selectedDimension:null}set selectedDimension(i){this.analysisView!=null&&(this.analysisView.selectedDimension=i)}async createLengthDimensions(i){if(this.analysisView==null)throw n();await this.analysisView.createLengthDimensions(i)}};return e([a()],s.prototype,"layer",void 0),e([a()],s.prototype,"interactive",null),e([a({readOnly:!0})],s.prototype,"results",null),e([a()],s.prototype,"selectedDimension",null),s=e([l("esri.views.layers.DimensionLayerView")],s),s};var v="analysis-view-handles",r=class extends A(_(f)){constructor(t){super(t),this.type="dimension-3d",this._analysisModule=null}initialize(){this.addHandles(d(()=>this.layer.source,t=>{this._destroyAnalysisView(),t!=null&&this._createAnalysisView(t)},V),v)}destroy(){this.removeHandles(v),this._destroyAnalysisView()}isUpdating(){return this._createAnalysisViewTask!=null||this.analysisView!=null&&this.analysisView.updating}async whenAnalysisView(){if(this.analysisView!=null)return this.analysisView;if(this._createAnalysisViewTask!=null)return this._createAnalysisViewTask.promise;throw new w("layerview:no-analysisview-for-analysis","The analysis has not been set on the DimensionLayer of this layer view")}_createAnalysisView(t){let s=p(async i=>(this.analysisView=await this._createAnalysisViewPromise(t,i),this._createAnalysisViewTask===s&&(this._createAnalysisViewTask=null),this.analysisView));this.addResolvingPromise(s.promise),this._createAnalysisViewTask=s}_destroyAnalysisView(){this.analysisView=h(this.analysisView),this._createAnalysisViewTask=m(this._createAnalysisViewTask)}async _createAnalysisViewPromise(t,s){let i=this._analysisModule;if(i==null){let y=await this._loadAnalysisModule();this._analysisModule=y,i=y}let o=new i.default({analysis:t,view:this.view,parent:this});if(await o.when(),c(s))throw o.destroy(),n();return o}_loadAnalysisModule(){return import("./chunk-TSB42FUC.js")}};e([a()],r.prototype,"type",void 0),e([a()],r.prototype,"analysisView",void 0),e([a()],r.prototype,"_createAnalysisViewTask",void 0),r=e([l("esri.views.3d.layers.DimensionLayerView3D")],r);var G=r;export{G as default};
