import{a as p}from"./chunk-AFU5KDMG.js";import{a as l}from"./chunk-YHWE4TIZ.js";import"./chunk-KAMRW6HF.js";import{a as m}from"./chunk-OLOKUDVI.js";import"./chunk-RJWOVI3M.js";import"./chunk-QT6UNBJP.js";import{E as h}from"./chunk-ETE32IYO.js";import"./chunk-ONUGDWDK.js";import"./chunk-SG7CQU4O.js";import"./chunk-QHVIRF5H.js";import"./chunk-WZDN6K3C.js";import"./chunk-QGVBCWUY.js";import"./chunk-OJQ73TPF.js";import"./chunk-354SCPDU.js";import"./chunk-OVHPPCBL.js";import"./chunk-IYZFKXJ6.js";import"./chunk-CKJ56T2Q.js";import"./chunk-SNFOAZZQ.js";import"./chunk-F6JAWRPN.js";import"./chunk-UHRSAPGQ.js";import"./chunk-V76GWARL.js";import"./chunk-N2WTMF3X.js";async function w(e,i,t){let a=e.thumbnail?.url;if(a){let o=c((await h(a,{responseType:"image"})).data,t);return t?.node?(t.node.appendChild(o),t.node):o}let n=await e.fetchSymbol({acceptedFormats:l});return n?i(n,t):null}function c(e,i){let t=!/\\.svg$/i.test(e.src)&&i?.disableUpsampling,a=Math.max(e.width,e.height),n=i?.maxSize!=null?m(i.maxSize):p.maxSize;t&&(n=Math.min(a,n));let o=typeof i?.size=="number"?i?.size:null,s=Math.min(n,o!=null?m(o):a);if(s!==a){let r=e.width!==0&&e.height!==0?e.width/e.height:1;r>=1?(e.width=s,e.height=s/r):(e.width=s*r,e.height=s)}return e}export{w as previewWebStyleSymbol};
