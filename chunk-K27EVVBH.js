import{h as l,t as E}from"./chunk-TPFJWNIU.js";import{k as u}from"./chunk-Z5Q7KLA4.js";import{a as c}from"./chunk-4XZ6X7MQ.js";async function p(e){let t=e.spatialReference;if(t.isWGS84)return e.clone();if(t.isWebMercator)return u(e);let r=c.WGS84;return await E(t,r),l(e,r)}function y(e,t){if(!d(e,t)){let r=e.typeKeywords;r?r.push(t):e.typeKeywords=[t]}}function d(e,t){return!!e.typeKeywords?.includes(t)}function m(e){return d(e,A.HOSTED_SERVICE)}function f(e,t){let r=e.typeKeywords;if(r){let o=r.indexOf(t);o>-1&&r.splice(o,1)}}function I(e,t,r){r?y(e,t):f(e,t)}async function R(e){let t=e.clone().normalize(),r;if(t.length>1)for(let o of t)r?o.width>r.width&&(r=o):r=o;else r=t[0];return p(r)}var A={DEVELOPER_BASEMAP:"DeveloperBasemap",GROUP_LAYER_MAP:"Map",HOSTED_SERVICE:"Hosted Service",JSAPI:"ArcGIS API for JavaScript",LOCAL_SCENE:"ViewingMode-Local",METADATA:"Metadata",MULTI_LAYER:"Multilayer",ORIENTED_IMAGERY_LAYER:"OrientedImageryLayer",SINGLE_LAYER:"Singlelayer",SUBTYPE_GROUP_LAYER:"SubtypeGroupLayer",SUBTYPE_GROUP_TABLE:"SubtypeGroupTable",TABLE:"Table",TILED_IMAGERY:"Tiled Imagery"};function _(e){let{portal:t,isOrgItem:r,itemControl:o}=e,i=t.user?.privileges,n=!i||i.includes("features:user:edit"),s=!!r&&!!i?.includes("features:user:fullEdit"),a=o==="update"||o==="admin";return a?s=n=!0:s&&(n=!0),{features:{edit:n,fullEdit:s},content:{updateItem:a}}}export{y as a,d as b,m as c,f as d,I as e,R as f,A as g,_ as h};
