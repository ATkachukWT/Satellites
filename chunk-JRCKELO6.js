import{H as a,J as _}from"./chunk-QHVIRF5H.js";import{I as b}from"./chunk-WZDN6K3C.js";import{a as s}from"./chunk-QGVBCWUY.js";import{A as f,G as u,d as h,e as c,y as m}from"./chunk-CKJ56T2Q.js";function E(r,t,n){return u(r.map((e,l)=>t.apply(n,[e,l])))}async function H(r,t,n){return(await u(r.map((e,l)=>t.apply(n,[e,l])))).map(e=>e.value)}function i(r){return{ok:!0,value:r}}function p(r){return{ok:!1,error:r}}function y(r){return r!=null&&r.ok===!0?r.value:null}function d(r){return r!=null&&r.ok===!1?r.error:null}async function R(r){if(r==null)return{ok:!1,error:new Error("no promise provided")};try{return i(await r)}catch(t){return p(t)}}async function x(r){try{return i(await r)}catch(t){return m(t),p(t)}}function M(r){if(r.ok===!0)return r.value;throw r.error}function O(r,t){return new o(r,t)}var o=class extends _{get value(){return y(this._result)}get error(){return d(this._result)}get finished(){return this._result!=null}constructor(r,t){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=c(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;let{signal:n}=this._abortController;this.promise=r(n),this.promise.then(e=>{this._result=i(e),this._cleanup()},e=>{this._result=p(e),this._cleanup()}),this._abortHandle=f(t,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=h(this._abortHandle),this._abortController=null}};s([a()],o.prototype,"value",null),s([a()],o.prototype,"error",null),s([a()],o.prototype,"finished",null),s([a()],o.prototype,"promise",void 0),s([a()],o.prototype,"_result",void 0),o=s([b("esri.core.asyncUtils.ReactiveTask")],o);export{E as a,H as b,R as c,x as d,M as e,O as f};
