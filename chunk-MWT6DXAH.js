import{a as d,b as g,c as y}from"./chunk-WNVGQG3J.js";import{a as p}from"./chunk-N5YUEDXE.js";import{a as u,j as l}from"./chunk-MWSXMSWY.js";import{c as f}from"./chunk-YR2HD3ZC.js";import{a as m}from"./chunk-OVHPPCBL.js";import{j as c}from"./chunk-CKJ56T2Q.js";import{a,b as s}from"./chunk-N2WTMF3X.js";function M(n,e){let t=new g({enabled:!0,selfEnabled:!1,featureEnabled:!0,distance:e?.distance??p.distance,touchSensitivityMultiplier:e?.touchSensitivityMultiplier??p.touchSensitivityMultiplier});return s(a({},u(()=>n.map?.allLayers?.toArray()??[],r=>{t.featureSources=new f(r).map(o=>new d({layer:o}))},l)),{options:t})}var i=new Map;function H(n){if(!i.has(n)){let r=M(n,{distance:10}),o=w(n,r.options);i.set(n,{referenceCount:0,snappingManager:o,remove:()=>{r.remove(),o.destroy()}})}let e=i.get(n);e.referenceCount++;let t=c(()=>v(n,e));return a({snappingManager:e.snappingManager},t)}function v(n,e){e.referenceCount--,e.referenceCount>0||m(()=>{e.referenceCount===0&&(e.remove(),i.delete(n))})}function w(n,e){return new y({view:n,options:e})}export{H as a};
