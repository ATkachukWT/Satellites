import{M as n}from"./chunk-3HPBQSX2.js";import{a as f}from"./chunk-CJM4TC3F.js";import{u as a,x as m}from"./chunk-CKJ56T2Q.js";import{r as i}from"./chunk-UHRSAPGQ.js";async function T(r,t,s){let e=r.layer;if(n(e)){let h=await e.fetchTile(t[0],t[1],t[2],s);if(m(s))throw i.getLogger(r).warnOnce("A call to fetchTile resolved even though the request was aborted. fetchTile should not resolve if options.signal.aborted is true."),a();return h}let o=r.getTileUrl(t);f(e)&&e.refreshTimestamp&&(o+=`${o.includes("?")?"&":"?"}_ts=${e.refreshTimestamp}`);let c=r.hasMixedImageFormats?"image+type":"image";return s.requester.request(o,c,s)}export{T as a};
