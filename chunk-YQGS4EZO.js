import{E as i,d as a}from"./chunk-ETE32IYO.js";function f(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="feature"}function g(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="subtype-group"&&"sublayers"in e}function b(e){return e?.type==="subtype-sublayer"}function d(e){let t=e?.type;return t==="base-tile"||t==="tile"||t==="elevation"||t==="imagery-tile"||t==="base-elevation"||t==="open-street-map"||t==="wcs"||t==="web-tile"||t==="wmts"||t==="vector-tile"}function L(e){return e!=null&&"type"in e&&e.type==="group"}var m={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function h(e){let t=e?.type;return t==="building-scene"||t==="integrated-mesh"||t==="point-cloud"||t==="scene"}function v(e){return e==="IntegratedMeshLayer"||e==="IntegratedMesh3DTilesLayer"}function S(e){return e==="integrated-mesh"||e==="integrated-mesh-3dtiles"}function w(e){return e?.type==="voxel"}function j(e){return e?.type==="imagery-tile"}function E(e){return e?.parent!=null&&"declaredClass"in e.parent&&e.parent.declaredClass==="esri.Basemap"&&e.parent.baseLayers.includes(e)}function C(e){return e?.type==="feature"&&!e.url&&e.source?.type==="memory"}function T(e){let t=e?.type;return(t==="feature"||t==="subtype-group"||t==="oriented-imagery")&&e?.source?.type==="feature-layer"}function M(e){if(e.activeLayer){let t=e.activeLayer.tileMatrixSet;if(t)return t;let n=e.activeLayer.tileMatrixSets;if(n)return n}return null}async function x(e,t){let n=a?.findServerInfo(e);if(n?.currentVersion!=null)return n.owningSystemUrl||null;let r=e.toLowerCase().indexOf("/rest/services");if(r===-1)return null;let s=`${e.slice(0,r)}/rest/info`,u=t!=null?t.signal:null,{data:o}=await i(s,{query:{f:"json"},responseType:"json",signal:u});return o?.owningSystemUrl||null}function c(e){if(!("capabilities"in e))return!1;switch(e.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"sublayer":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}function I(e){return c(e)?"effectiveCapabilities"in e?e.effectiveCapabilities:e.capabilities:null}function l(e){if(!("editingEnabled"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}function O(e){return!!l(e)&&("effectiveEditingEnabled"in e?e.effectiveEditingEnabled:e.editingEnabled)}export{f as a,g as b,b as c,d,L as e,m as f,h as g,v as h,S as i,w as j,j as k,E as l,C as m,T as n,M as o,x as p,c as q,I as r,O as s};
