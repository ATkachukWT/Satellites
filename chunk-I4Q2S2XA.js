import{c as Bt,d as wo,e as Jt}from"./chunk-V774RJYN.js";import{a as ao,b as no}from"./chunk-L2WNUKLP.js";import{a as vo,b as go,c as gt}from"./chunk-XITT4JU2.js";import{a as fo,b as bo}from"./chunk-ZBX6HJOS.js";import{a as po,b as mo,c as yo,e as je,f as vt}from"./chunk-BSMAMABT.js";import{a as ho,b as $t,d as wt}from"./chunk-LYNAYPL3.js";import{a as w,b as co,c as uo,d as Vt}from"./chunk-ULANM5YP.js";import{a as m}from"./chunk-KAMRW6HF.js";import{a as Et}from"./chunk-JTDXB5TK.js";import{l as So}from"./chunk-HP4LYRR4.js";import{b as L,c as R}from"./chunk-OLOKUDVI.js";import{a as l}from"./chunk-NRBJLISB.js";import{b as Ht}from"./chunk-BOVYXYHK.js";import{c as so,h as io}from"./chunk-MWSXMSWY.js";import{c as y}from"./chunk-YR2HD3ZC.js";import{c as X}from"./chunk-EXJYW3PC.js";import{a as T}from"./chunk-X4LNX4BR.js";import{a as O}from"./chunk-WLHY3MMA.js";import{a as lo}from"./chunk-DB3UIQCU.js";import{b as lt}from"./chunk-SBHKMV3P.js";import{h as qt,i as It,j as Ut,k as Wt}from"./chunk-ETE32IYO.js";import{A as oo,E as ro,p as eo,v as At,y as Ft}from"./chunk-ONUGDWDK.js";import{f as p}from"./chunk-SG7CQU4O.js";import{H as o,J as q,c as Se}from"./chunk-QHVIRF5H.js";import{C as xe,D as to,I as s,w as Ze,x as F}from"./chunk-WZDN6K3C.js";import{a as e}from"./chunk-QGVBCWUY.js";import{v as Ye}from"./chunk-CKJ56T2Q.js";import{b as i,n as Ge,r as C,t as Xe}from"./chunk-UHRSAPGQ.js";import{a as c,b as u}from"./chunk-N2WTMF3X.js";var Le,Uo=lt()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"}),I=Le=class extends p{constructor(t){super(t)}readHref(t,r,a){return t?qt(t,a):r.dataURI}writeHref(t,r,a,n){t&&(oo(t)?r.dataURI=t:(r.href=It(t,n),Ft(r.href)&&(r.href=At(r.href))))}clone(){return new Le({href:this.href,primitive:this.primitive})}};e([o({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],I.prototype,"href",void 0),e([T("href")],I.prototype,"readHref",null),e([O("href",{href:{type:String},dataURI:{type:String}})],I.prototype,"writeHref",null),e([l(Uo)],I.prototype,"primitive",void 0),I=Le=e([s("esri.symbols.support.IconSymbol3DLayerResource")],I);var pr="circle";var ze,Wo=lt()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"}),at=ze=class extends p{clone(){return new ze({href:this.href,primitive:this.primitive})}};e([o({type:String,json:{read:Ut,write:Wt}})],at.prototype,"href",void 0),e([l(Wo)],at.prototype,"primitive",void 0),at=ze=e([s("esri.symbols.support.ObjectSymbol3DLayerResource")],at);var xr="sphere";var De,Y=De=class extends q{constructor(t){super(t),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new De({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};e([o({type:String})],Y.prototype,"name",void 0),e([o({type:String})],Y.prototype,"styleUrl",void 0),e([o({type:String})],Y.prototype,"styleName",void 0),e([o({type:X})],Y.prototype,"portal",void 0),Y=De=e([s("esri.symbols.support.StyleOrigin")],Y);var Kt=Y;var Oe,Z=Oe=class extends q{constructor(){super(...arguments),this.url=""}clone(){return new Oe({url:this.url})}};e([o({type:String})],Z.prototype,"url",void 0),Z=Oe=e([s("esri.symbols.support.Thumbnail")],Z);var Pe,U=Pe=class extends w{constructor(t){super(t),this.data=null,this.type="cim"}readData(t,r){return r}writeData(t,r){Object.assign(r,t)}async collectRequiredFields(t,r){if(this.data?.type==="CIMSymbolReference"){let a=this.data.primitiveOverrides;if(a){let n=a.map(h=>{let bt=h.valueExpressionInfo;return bt?So(t,r,bt.expression):null});await Promise.all(n)}}}clone(){return new Pe({data:i(this.data)})}hash(){return Ge(JSON.stringify(this.data)).toString()}};e([o({json:{write:!1}})],U.prototype,"color",void 0),e([o({json:{write:!0}})],U.prototype,"data",void 0),e([T("data",["symbol"])],U.prototype,"readData",null),e([O("data",{})],U.prototype,"writeData",null),e([l({CIMSymbolReference:"cim"},{readOnly:!0})],U.prototype,"type",void 0),U=Pe=e([s("esri.symbols.CIMSymbol")],U);var W=U;var nt=class extends p{constructor(t){super(t),this.enabled=!0,this.type=null,this.ignoreDrivers=!1}writeEnabled(t,r,a){t||(r[a]=t)}};e([o({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],nt.prototype,"enabled",void 0),e([O("enabled")],nt.prototype,"writeEnabled",null),e([o({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0,json:{write:{isRequired:!0}}})],nt.prototype,"type",void 0),nt=e([s("esri.symbols.Symbol3DLayer")],nt);var f=nt;function Ho(t,r){let a=r.transparency!=null?bo(r.transparency):1,n=r.color;return n&&Array.isArray(n)?new m([n[0]||0,n[1]||0,n[2]||0,a]):null}function Eo(t,r){r.color=t.toJSON().slice(0,3);let a=fo(t.a);a!==0&&(r.transparency=a)}function v(t){return{type:m,nonNullable:t?.nonNullable,json:{type:[F],default:null,read:{source:["color","transparency"],reader:Ho},write:{target:{color:{type:[F],isRequired:t?.colorRequiredOnWrite},transparency:{type:F}},writer:Eo}}}}var b={type:Number,cast:R,json:{write:!0}};var tt=class extends p{constructor(t){super(t),this.color=new m([0,0,0,1]),this.extensionLength=0,this.size=L(1)}clone(){}cloneProperties(){return{color:i(this.color),size:this.size,extensionLength:this.extensionLength}}};e([o({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],tt.prototype,"type",void 0),e([o(v({colorRequiredOnWrite:!0}))],tt.prototype,"color",void 0),e([o(u(c({},b),{json:{write:{overridePolicy:t=>({enabled:!!t})}}}))],tt.prototype,"extensionLength",void 0),e([o(b)],tt.prototype,"size",void 0),tt=e([s("esri.symbols.edges.Edges3D")],tt);var pt=tt;var ke,Qt=ke=class extends pt{constructor(t){super(t),this.type="sketch"}clone(){return new ke(this.cloneProperties())}};e([l({sketch:"sketch"},{readOnly:!0})],Qt.prototype,"type",void 0),Qt=ke=e([s("esri.symbols.edges.SketchEdges3D")],Qt);var xo=Qt;var _e,Gt=_e=class extends pt{constructor(t){super(t),this.type="solid"}clone(){return new _e(this.cloneProperties())}};e([l({solid:"solid"},{readOnly:!0})],Gt.prototype,"type",void 0),Gt=_e=e([s("esri.symbols.edges.SolidEdges3D")],Gt);var jo=Gt;var Xt={types:{key:"type",base:pt,typeMap:{solid:jo,sketch:xo}},json:{write:!0}};var Me,d=Me=class extends p{constructor(t){super(t),this.color=null,this.emissiveFactor=null}clone(){let t={color:this.color?.clone()??null,emissiveFactor:this.emissiveFactor?Ht(this.emissiveFactor):null};return new Me(t)}};e([o(v())],d.prototype,"color",void 0),e([o({type:[Number],json:{write:!1}})],d.prototype,"emissiveFactor",void 0),d=Me=e([s("esri.symbols.support.Symbol3DMaterial")],d);var Ne,H=Ne=class extends f{constructor(t){super(t),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new Ne({edges:this.edges?.clone(),enabled:this.enabled,material:this.material?.clone(),castShadows:this.castShadows,size:this.size})}};e([l({Extrude:"extrude"},{readOnly:!0})],H.prototype,"type",void 0),e([o({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],H.prototype,"size",void 0),e([o({type:d,json:{write:!0}})],H.prototype,"material",void 0),e([o({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],H.prototype,"castShadows",void 0),e([o(Xt)],H.prototype,"edges",void 0),H=Ne=e([s("esri.symbols.ExtrudeSymbol3DLayer")],H);var Yt=H;var Zt=class extends p{constructor(t){super(t)}clone(){throw new Error("Subclasses of LinePattern3D should implement their own clone method.")}};e([o({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Zt.prototype,"type",void 0),Zt=e([s("esri.symbols.patterns.LinePattern3D")],Zt);var te=Zt;var Lo=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var Ce,Vo=lt()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"}),St=Ce=class extends te{constructor(t){super(t),this.type="style",this.style="solid"}clone(){let t={style:this.style};return new Ce(t)}};e([o({type:["style"],json:{write:{isRequired:!0}}})],St.prototype,"type",void 0),e([l(Vo),o({type:Lo,json:{write:{isRequired:!0}}})],St.prototype,"style",void 0),St=Ce=e([s("esri.symbols.patterns.LineStylePattern3D")],St);var mt=St;var ee=class extends p{constructor(t){super(t),this.type="style"}clone(){throw new Error("Subclasses of Pattern3D should implement their own clone method.")}};e([o({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],ee.prototype,"type",void 0),ee=e([s("esri.symbols.patterns.Pattern3D")],ee);var oe=ee;var zo=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var Te,xt=Te=class extends oe{constructor(t){super(t),this.type="style",this.style="solid"}clone(){return new Te({style:this.style})}};e([o({type:["style"],json:{write:{isRequired:!0}}})],xt.prototype,"type",void 0),e([o({type:zo,json:{read:!0,write:{isRequired:!0}}})],xt.prototype,"style",void 0),xt=Te=e([s("esri.symbols.patterns.StylePattern3D")],xt);var re=xt;var Do={types:{key:"type",base:oe,typeMap:{style:re}},json:{write:!0}},se={types:{key:"type",base:te,typeMap:{style:mt}},json:{write:!0}};var E=new m("white"),Oo=new m([255,255,255,0]);function Po(t){return t.r===0&&t.g===0&&t.b===0}var Re,yt=Re=class extends d{constructor(t){super(t),this.colorMixMode=null}clone(){let t={color:this.color?.clone()??null,emissiveFactor:this.emissiveFactor?Ht(this.emissiveFactor):null,colorMixMode:this.colorMixMode};return new Re(t)}};e([l({multiply:"multiply",replace:"replace",tint:"tint"})],yt.prototype,"colorMixMode",void 0),yt=Re=e([s("esri.symbols.support.Symbol3DFillMaterial")],yt);var Ae,V=Ae=class extends p{constructor(t){super(t),this.color=new m([0,0,0,1]),this.size=L(1),this.pattern=null,this.patternCap="butt"}clone(){let t={color:this.color!=null?this.color.clone():null,size:this.size,pattern:this.pattern!=null?this.pattern.clone():null,patternCap:this.patternCap};return new Ae(t)}};e([o(v({colorRequiredOnWrite:!0}))],V.prototype,"color",void 0),e([o(u(c({},b),{json:{write:{isRequired:!0}}}))],V.prototype,"size",void 0),e([o(se)],V.prototype,"pattern",void 0),e([o({type:Bt,json:{default:"butt",write:{overridePolicy(){return{enabled:this.pattern!=null}}}}})],V.prototype,"patternCap",void 0),V=Ae=e([s("esri.symbols.support.Symbol3DOutline")],V);var ie,A=ie=class extends f{constructor(t){super(t),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){let t={edges:this.edges!=null?this.edges.clone():null,enabled:this.enabled,material:this.material!=null?this.material.clone():null,pattern:this.pattern!=null?this.pattern.clone():null,castShadows:this.castShadows,outline:this.outline!=null?this.outline.clone():null};return new ie(t)}static fromSimpleFillSymbol(t){let r=t.outline&&t.outline.style&&t.outline.style!=="solid"?new mt({style:t.outline.style}):null,a={size:t.outline?.width??0,color:(t.outline?.color??E).clone(),pattern:r};return r&&t.outline?.cap&&(a.patternCap=t.outline.cap),new ie({material:new yt({color:(t.color??Oo).clone()}),pattern:t.style&&t.style!=="solid"?new re({style:t.style}):null,outline:a})}};e([l({Fill:"fill"},{readOnly:!0})],A.prototype,"type",void 0),e([o({type:yt,json:{write:!0}})],A.prototype,"material",void 0),e([o(Do)],A.prototype,"pattern",void 0),e([o({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],A.prototype,"castShadows",void 0),e([o({type:V,json:{write:!0}})],A.prototype,"outline",void 0),e([o(Xt)],A.prototype,"edges",void 0),A=ie=e([s("esri.symbols.FillSymbol3DLayer")],A);var $=A;var Fe,et=Fe=class extends q{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new Fe({x:this.x,y:this.y})}};e([o({type:Number})],et.prototype,"x",void 0),e([o({type:Number})],et.prototype,"y",void 0),et=Fe=e([s("esri.symbols.support.Symbol3DAnchorPosition2D")],et);var qe,ct=qe=class extends p{constructor(t){super(t),this.color=new m([0,0,0,1]),this.size=L(1)}clone(){let t={color:this.color!=null?this.color.clone():null,size:this.size};return new qe(t)}};e([o(v({colorRequiredOnWrite:!0}))],ct.prototype,"color",void 0),e([o(u(c({},b),{json:{write:{isRequired:!0}}}))],ct.prototype,"size",void 0),ct=qe=e([s("esri.symbols.support.Symbol3DIconOutline")],ct);var ut,Mo="esri.symbols.IconSymbol3DLayer",z=ut=class extends f{constructor(t){super(t),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null,this.angle=0}clone(){return new ut({anchor:this.anchor,anchorPosition:i(this.anchorPosition),enabled:this.enabled,material:i(this.material),outline:i(this.outline),resource:i(this.resource),angle:this.angle,size:this.size})}static fromSimpleMarkerSymbol(t){let r=t.color||E,a=ko(t),n=t.outline&&t.outline.width>0?{size:t.outline.width,color:(t.outline.color||E).clone()}:null;return new ut({size:t.size,angle:t.angle,resource:{primitive:Bo(t.style)},material:{color:r},outline:n,anchor:a?"relative":void 0,anchorPosition:a})}static fromPictureMarkerSymbol(t){let r=!t.color||Po(t.color)?E:t.color,a=ko(t);return new ut({size:t.width<=t.height?t.height:t.width,angle:t.angle,resource:{href:t.url},material:{color:r.clone()},anchor:a?"relative":void 0,anchorPosition:a})}static fromCIMSymbol(t){return new ut({resource:{href:ro({mediaType:"application/json",data:JSON.stringify(t.data)})}})}};e([o({type:d,json:{write:!0}})],z.prototype,"material",void 0),e([o({type:I,json:{write:!0}})],z.prototype,"resource",void 0),e([l({Icon:"icon"},{readOnly:!0})],z.prototype,"type",void 0),e([o(u(c({},b),{json:{write:{isRequired:!0}}}))],z.prototype,"size",void 0),e([l({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"},{default:"center"})],z.prototype,"anchor",void 0),e([o({type:et,json:{type:[Number],read:{reader:t=>new et({x:t[0],y:t[1]})},write:{writer:(t,r)=>{r.anchorPosition=[t.x,t.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],z.prototype,"anchorPosition",void 0),e([o({type:ct,json:{write:!0}})],z.prototype,"outline",void 0),e([o({type:Number,json:{write:!0,default:0}})],z.prototype,"angle",void 0),z=ut=e([s(Mo)],z);var P=z;function ko(t){let r="width"in t?t.width:t.size,a="height"in t?t.height:t.size,n=_o(t.xoffset),h=_o(t.yoffset);return(n||h)&&r&&a?{x:-n/r,y:h/a}:null}function _o(t){return isFinite(t)?t:0}var $o={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function Bo(t){return $o[t]||(C.getLogger(Mo).warn(`${t} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}var ot=class extends Et.ClonableMixin(p){constructor(t){super(t),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(t){return t!=null&&t.placement===this.placement&&t.style===this.style&&(this.color==null&&t.color==null||this.color!=null&&t.color!=null&&this.color.toJSON()===t.color.toJSON())}};e([o({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],ot.prototype,"type",void 0),e([o({type:co,json:{default:"begin-end",write:!0}})],ot.prototype,"placement",void 0),e([o({type:uo,json:{default:"arrow",write:!0}})],ot.prototype,"style",void 0),e([o({type:m,json:{type:[F],default:null,write:!0}})],ot.prototype,"color",void 0),ot=e([s("esri.symbols.LineStyleMarker3D")],ot);var le=ot;var ae,k=ae=class extends f{constructor(t){super(t),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=L(1),this.pattern=null,this.marker=null}clone(){let t={enabled:this.enabled,material:this.material!=null?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:this.pattern!=null?this.pattern.clone():null,marker:this.marker!=null?this.marker.clone():null};return new ae(t)}static fromSimpleLineSymbol(t){let r={enabled:!0,size:t.width??L(1),cap:t.cap||"butt",join:t.join||"miter",pattern:t.style?new mt({style:t.style}):null,material:new d({color:(t.color||E).clone()}),marker:t.marker?new le({placement:t.marker.placement,style:t.marker.style,color:t.marker.color?.clone()??null}):null};return new ae(r)}};e([o({type:d,json:{write:!0}})],k.prototype,"material",void 0),e([l({Line:"line"},{readOnly:!0})],k.prototype,"type",void 0),e([o({type:Jt,json:{write:!0,default:"miter"}})],k.prototype,"join",void 0),e([o({type:Bt,json:{write:!0,default:"butt"}})],k.prototype,"cap",void 0),e([o(u(c({},b),{json:{write:{isRequired:!0}}}))],k.prototype,"size",void 0),e([o(se)],k.prototype,"pattern",void 0),e([o({types:{key:"type",base:le,typeMap:{style:le}},json:{write:!0}})],k.prototype,"marker",void 0),k=ae=e([s("esri.symbols.LineSymbol3DLayer")],k);var B=k;var Ie,J=Ie=class extends q{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new Ie({x:this.x,y:this.y,z:this.z})}};e([o({type:Number})],J.prototype,"x",void 0),e([o({type:Number})],J.prototype,"y",void 0),e([o({type:Number})],J.prototype,"z",void 0),J=Ie=e([s("esri.symbols.support.Symbol3DAnchorPosition3D")],J);var Ue,g=Ue=class extends f{constructor(t){super(t),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new Ue({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition?.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:this.material?.clone()??null,castShadows:this.castShadows,resource:this.resource?.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!="string"}};e([o({type:d,json:{write:!0}})],g.prototype,"material",void 0),e([o({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],g.prototype,"castShadows",void 0),e([o({type:at,json:{write:!0}})],g.prototype,"resource",void 0),e([l({Object:"object"},{readOnly:!0})],g.prototype,"type",void 0),e([o({type:Number,json:{write:!0}})],g.prototype,"width",void 0),e([o({type:Number,json:{write:!0}})],g.prototype,"height",void 0),e([o({type:Number,json:{write:!0}})],g.prototype,"depth",void 0),e([l({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"},{default:"origin"})],g.prototype,"anchor",void 0),e([o({type:J,json:{type:[Number],read:{reader:t=>new J({x:t[0],y:t[1],z:t[2]})},write:{writer:(t,r)=>{r.anchorPosition=[t.x,t.y,t.z]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],g.prototype,"anchorPosition",void 0),e([o({type:Number,json:{write:!0}})],g.prototype,"heading",void 0),e([o({type:Number,json:{write:!0}})],g.prototype,"tilt",void 0),e([o({type:Number,json:{write:!0}})],g.prototype,"roll",void 0),e([o({readOnly:!0})],g.prototype,"isPrimitive",null),g=Ue=e([s("esri.symbols.ObjectSymbol3DLayer")],g);var ht=g;var We,S=We=class extends f{constructor(t){super(t),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(t,r){return t??(r.height==null&&r.size!=null?r.size:void 0)}readHeight(t,r){return t??(r.width==null&&r.size!=null?r.size:void 0)}clone(){return new We({enabled:this.enabled,material:this.material!=null?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};e([o({type:d,json:{write:!0}})],S.prototype,"material",void 0),e([o({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],S.prototype,"castShadows",void 0),e([l({Path:"path"},{readOnly:!0})],S.prototype,"type",void 0),e([o({type:["circle","quad"],json:{write:!0,default:"circle"}})],S.prototype,"profile",void 0),e([o({type:Jt,json:{write:!0,default:"miter"}})],S.prototype,"join",void 0),e([o({type:wo,json:{write:!0,default:"butt"}})],S.prototype,"cap",void 0),e([o({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],S.prototype,"width",void 0),e([T("width",["width","size","height"])],S.prototype,"readWidth",null),e([o({type:Number,json:{write:!0}})],S.prototype,"height",void 0),e([T("height",["height","size","width"])],S.prototype,"readHeight",null),e([o({type:["center","bottom","top"],json:{write:!0,default:"center"}})],S.prototype,"anchor",void 0),e([o({type:["heading","all"],json:{write:!0,default:"all"}})],S.prototype,"profileRotation",void 0),S=We=e([s("esri.symbols.PathSymbol3DLayer")],S);var jt=S;var He,rt=He=class extends p{constructor(){super(...arguments),this.color=new m([0,0,0,1]),this.size=0}clone(){let t={color:i(this.color),size:this.size};return new He(t)}};e([o(v())],rt.prototype,"color",void 0),e([o(b)],rt.prototype,"size",void 0),rt=He=e([s("esri.symbols.support.Symbol3DHalo")],rt);var dt=class extends Et.ClonableMixin(p){constructor(t){super(t),this.color=null}};e([o(v())],dt.prototype,"color",void 0),dt=e([s("esri.symbols.support.Symbol3DTextBackground")],dt);var ne,x=ne=class extends f{constructor(t){super(t),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(t){t!=null&&this._userSize!=null&&(t.size=this._userSize),this._set("font",t)}writeFont(t,r,a,n){let h=u(c({},n),{textSymbol3D:!0});r.font=t.write({},h),delete r.font.size}get size(){return this._userSize!=null?this._userSize:this.font?.size!=null?this.font.size:9}set size(t){this._userSize=t,this.font!=null&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){let t=new ne({enabled:this.enabled,font:this.font&&i(this.font),halo:this.halo&&i(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:this.material!=null?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:i(this.background)});return t._userSize=this._userSize,t}static fromTextSymbol(t){return new ne({font:t.font!=null?t.font.clone():new je,halo:Jo(t.haloColor,t.haloSize),horizontalAlignment:t.horizontalAlignment,lineHeight:t.lineHeight,material:t.color?new d({color:t.color.clone()}):null,text:t.text,verticalAlignment:t.verticalAlignment,background:t.backgroundColor?new dt({color:t.backgroundColor.clone()}):null})}};function Jo(t,r){return t&&r!=null&&r>0?new rt({color:i(t),size:r}):null}e([o({type:je,json:{write:!0}})],x.prototype,"font",null),e([O("font")],x.prototype,"writeFont",null),e([o({type:rt,json:{write:!0}})],x.prototype,"halo",void 0),e([o(u(c({},mo),{json:{default:"center",write:!0}}))],x.prototype,"horizontalAlignment",void 0),e([o(u(c({},po),{json:{default:1,write:!0}}))],x.prototype,"lineHeight",void 0),e([o({type:d,json:{write:!0}})],x.prototype,"material",void 0),e([o({type:dt,json:{write:!0}})],x.prototype,"background",void 0),e([o(b)],x.prototype,"size",null),e([o({type:String,json:{write:!0}})],x.prototype,"text",void 0),e([l({Text:"text"},{readOnly:!0})],x.prototype,"type",void 0),e([o(u(c({},yo),{json:{default:"baseline",write:!0}}))],x.prototype,"verticalAlignment",void 0),x=ne=e([s("esri.symbols.TextSymbol3DLayer")],x);var _=x;var Ee,K=Ee=class extends f{constructor(t){super(t),this.color=Ve.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new Ee({color:i(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};e([o({type:m,nonNullable:!0,json:{type:[F],write:(t,r,a)=>r[a]=t.toArray(m.AlphaMode.UNLESS_OPAQUE),default:()=>Ve.clone(),defaultEquals:t=>t.toCss(!0)===Ve.toCss(!0)}})],K.prototype,"color",void 0),e([l({Water:"water"},{readOnly:!0})],K.prototype,"type",void 0),e([o({type:["small","medium","large"],json:{write:!0,default:"medium"}})],K.prototype,"waterbodySize",void 0),e([o({type:Number,json:{write:!0,default:null}})],K.prototype,"waveDirection",void 0),e([o({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],K.prototype,"waveStrength",void 0),K=Ee=e([s("esri.symbols.WaterSymbol3DLayer")],K);var pe=K,Ve=new m([0,119,190]);var No={icon:P,object:ht,line:B,path:jt,fill:$,extrude:Yt,text:_,water:pe},Ko=y.ofType({base:f,key:"type",typeMap:No,errorContext:"symbol-layer"}),M=class extends w{constructor(t){super(t),this.styleOrigin=null,this.thumbnail=null,this.type=null;let r=this.__accessor__&&this.__accessor__.metadata&&this.__accessor__.metadata.symbolLayers,a=r?.type,n=a||y;this._set("symbolLayers",new n)}get color(){return null}set color(t){this.constructed&&C.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(t){ao(t,this._get("symbolLayers"))}readStyleOrigin(t,r,a){if(t.styleUrl&&t.name){let n=qt(t.styleUrl,a);return new Kt({styleUrl:n,name:t.name})}if(t.styleName&&t.name)return new Kt({portal:a?.portal||X.getDefault(),styleName:t.styleName,name:t.name});a?.messages&&a.messages.push(new xe("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:a,definition:t}))}writeStyleOrigin(t,r,a,n){if(t.styleUrl&&t.name){let h=It(t.styleUrl,n);Ft(h)&&(h=At(h)),r.styleOrigin={styleUrl:h,name:t.name}}else t.styleName&&t.name&&(t.portal&&n?.portal&&!eo(t.portal.restUrl,n.portal.restUrl)?n?.messages&&n.messages.push(new xe("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):r.styleOrigin={styleName:t.styleName,name:t.name})}normalizeCtorArgs(t){return t instanceof f||t&&No[t.type]?{symbolLayers:[t]}:Array.isArray(t)?{symbolLayers:t}:t}};e([o({json:{read:!1,write:!1}})],M.prototype,"color",null),e([o({type:Ko,nonNullable:!0,json:{write:!0}}),lo(no)],M.prototype,"symbolLayers",null),e([o({type:Kt})],M.prototype,"styleOrigin",void 0),e([T("styleOrigin")],M.prototype,"readStyleOrigin",null),e([O("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],M.prototype,"writeStyleOrigin",null),e([o({type:Z,json:{read:!1}})],M.prototype,"thumbnail",void 0),e([o({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],M.prototype,"type",void 0),M=e([s("esri.symbols.Symbol3D")],M);var N=M;var Lt=class extends p{constructor(t){super(t),this.visible=!0}clone(){throw new Error("Subclasses of Callout3D should implement their own clone method.")}};e([o({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,isRequired:!0}}})],Lt.prototype,"type",void 0),e([o({readOnly:!0})],Lt.prototype,"visible",void 0),Lt=e([s("esri.symbols.callouts.Callout3D")],Lt);var me=Lt;var $e,ye=$e=class extends p{constructor(t){super(t),this.color=new m("white")}clone(){return new $e({color:i(this.color)})}};e([o(v({colorRequiredOnWrite:!0}))],ye.prototype,"color",void 0),ye=$e=e([s("esri.symbols.callouts.LineCallout3DBorder")],ye);var Co=ye;var Be,Q=Be=class extends me{constructor(t){super(t),this.type="line",this.color=new m([0,0,0,1]),this.size=L(1),this.border=null}get visible(){return this.size>0&&this.color!=null&&this.color.a>0}clone(){return new Be({color:i(this.color),size:this.size,border:i(this.border)})}};e([l({line:"line"})],Q.prototype,"type",void 0),e([o(v({colorRequiredOnWrite:!0}))],Q.prototype,"color",void 0),e([o(u(c({},b),{json:{write:{isRequired:!0}}}))],Q.prototype,"size",void 0),e([o({type:Co,json:{write:!0}})],Q.prototype,"border",void 0),e([o({readOnly:!0})],Q.prototype,"visible",null),Q=Be=e([s("esri.symbols.callouts.LineCallout3D")],Q);var ce=Q;function zt(t){if(!t)return!1;let r=t.verticalOffset;return!(!r||r.screenLength<=0||r.maxWorldLength!=null&&r.maxWorldLength<=0)}function ue(t){return!t||!t.supportsCallout||!t.supportsCallout()?!1:!!t.callout?.visible&&!!zt(t)}function fy(t){return t.type==="point-3d"||t.type==="label-3d"}function by(t){return t.horizontalAlignment==="center"}var he={types:{key:"type",base:me,typeMap:{line:ce}},json:{write:!0}};var Je,ft=Je=class extends p{constructor(t){super(t),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new Je({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};e([o(u(c({},b),{json:{write:{isRequired:!0}}}))],ft.prototype,"screenLength",void 0),e([o({type:Number,nonNullable:!0,json:{write:!0,default:0}})],ft.prototype,"minWorldLength",void 0),e([o({type:Number,json:{write:!0}})],ft.prototype,"maxWorldLength",void 0),ft=Je=e([s("esri.symbols.support.Symbol3DVerticalOffset")],ft);var Dt=ft;var de,To=y.ofType({base:null,key:"type",typeMap:{text:_}}),G=de=class extends N{constructor(t){super(t),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new To,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return ue(this)}hasVisibleVerticalOffset(){return zt(this)}clone(){return new de({styleOrigin:i(this.styleOrigin),symbolLayers:i(this.symbolLayers),thumbnail:i(this.thumbnail),callout:i(this.callout),verticalOffset:i(this.verticalOffset)})}static fromTextSymbol(t){return new de({symbolLayers:new y([_.fromTextSymbol(t)])})}};e([o({type:Dt,json:{write:!0}})],G.prototype,"verticalOffset",void 0),e([o(he)],G.prototype,"callout",void 0),e([o({json:{read:!1,write:!1}})],G.prototype,"styleOrigin",void 0),e([o({type:To})],G.prototype,"symbolLayers",void 0),e([l({LabelSymbol3D:"label-3d"},{readOnly:!0})],G.prototype,"type",void 0),G=de=e([s("esri.symbols.LabelSymbol3D")],G);var fe=G;var be,Ro=y.ofType({base:null,key:"type",typeMap:{line:B,path:jt}}),Qo=y.ofType({base:null,key:"type",typeMap:{line:B,path:jt}}),Ot=be=class extends N{constructor(t){super(t),this.symbolLayers=new Ro,this.type="line-3d"}clone(){return new be({styleOrigin:i(this.styleOrigin),symbolLayers:i(this.symbolLayers),thumbnail:i(this.thumbnail)})}static fromSimpleLineSymbol(t){return new be({symbolLayers:new y([B.fromSimpleLineSymbol(t)])})}};e([o({type:Ro,json:{type:Qo}})],Ot.prototype,"symbolLayers",void 0),e([l({LineSymbol3D:"line-3d"},{readOnly:!0})],Ot.prototype,"type",void 0),Ot=be=e([s("esri.symbols.LineSymbol3D")],Ot);var Pt=Ot;var we,Ao=y.ofType({base:null,key:"type",typeMap:{fill:$}}),kt=we=class extends N{constructor(t){super(t),this.symbolLayers=new Ao,this.type="mesh-3d"}clone(){return new we({styleOrigin:i(this.styleOrigin),symbolLayers:i(this.symbolLayers),thumbnail:i(this.thumbnail)})}static fromSimpleFillSymbol(t){return new we({symbolLayers:new y([$.fromSimpleFillSymbol(t)])})}};e([o({type:Ao})],kt.prototype,"symbolLayers",void 0),e([l({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],kt.prototype,"type",void 0),kt=we=e([s("esri.symbols.MeshSymbol3D")],kt);var ve=kt;var Ke,j=Ke=class extends ho{constructor(...t){super(...t),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(t,r,a,n){if(t&&typeof t!="string"&&t.imageData==null)return t;let h={};return t&&(h.url=t),r&&(h.outline=r),a!=null&&(h.width=R(a)),n!=null&&(h.height=R(n)),h}clone(){let t=new Ke({color:i(this.color),height:this.height,outline:i(this.outline),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return t._set("source",i(this.source)),t}hash(){return`${super.hash()}.${this.color?.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};e([l({esriPFS:"picture-fill"},{readOnly:!0})],j.prototype,"type",void 0),e([o(vo)],j.prototype,"url",void 0),e([o({type:Number,json:{write:!0}})],j.prototype,"xscale",void 0),e([o({type:Number,json:{write:!0}})],j.prototype,"yscale",void 0),e([o({type:Number,cast:R,json:{write:!0}})],j.prototype,"width",void 0),e([o({type:Number,cast:R,json:{write:!0}})],j.prototype,"height",void 0),e([o({type:Number,cast:R,json:{write:!0}})],j.prototype,"xoffset",void 0),e([o({type:Number,cast:R,json:{write:!0}})],j.prototype,"yoffset",void 0),e([o(go)],j.prototype,"source",void 0),j=Ke=e([s("esri.symbols.PictureFillSymbol")],j);var ge=j;var st,Fo=y.ofType({base:null,key:"type",typeMap:{icon:P,object:ht,text:_}}),it=st=class extends N{constructor(t){super(t),this.verticalOffset=null,this.callout=null,this.symbolLayers=new Fo,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(let t of this.symbolLayers.items)switch(t.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return ue(this)}hasVisibleVerticalOffset(){return zt(this)}clone(){return new st({verticalOffset:i(this.verticalOffset),callout:i(this.callout),styleOrigin:i(this.styleOrigin),symbolLayers:i(this.symbolLayers),thumbnail:i(this.thumbnail)})}static fromSimpleMarkerSymbol(t){return new st({symbolLayers:new y([P.fromSimpleMarkerSymbol(t)])})}static fromPictureMarkerSymbol(t){return new st({symbolLayers:new y([P.fromPictureMarkerSymbol(t)])})}static fromCIMSymbol(t){if(t.data?.symbol?.type!=="CIMPointSymbol")return null;let a=t.data.symbol;return new st(a?.callout?{symbolLayers:new y([P.fromCIMSymbol(t)]),callout:new ce({size:.5,color:new m([0,0,0])}),verticalOffset:new Dt({screenLength:40})}:{symbolLayers:new y([P.fromCIMSymbol(t)])})}static fromTextSymbol(t){return new st({symbolLayers:new y([_.fromTextSymbol(t)])})}};e([o({type:Dt,json:{write:!0}})],it.prototype,"verticalOffset",void 0),e([o(he)],it.prototype,"callout",void 0),e([o({type:Fo,json:{origins:{"web-scene":{write:!0}}}})],it.prototype,"symbolLayers",void 0),e([l({PointSymbol3D:"point-3d"},{readOnly:!0})],it.prototype,"type",void 0),it=st=e([s("esri.symbols.PointSymbol3D")],it);var _t=it;var Mt,qo=y.ofType({base:null,key:"type",typeMap:{extrude:Yt,fill:$,icon:P,line:B,object:ht,text:_,water:pe}}),Nt=Mt=class extends N{constructor(t){super(t),this.symbolLayers=new qo,this.type="polygon-3d"}initialize(){let t=r=>{r.type==="line"&&Se(C.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"}),r.type==="text"&&Se(C.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(let r of this.symbolLayers)t(r);this.addHandles(so(()=>this.symbolLayers,"after-add",({item:r})=>t(r),io))}clone(){return new Mt({styleOrigin:i(this.styleOrigin),symbolLayers:i(this.symbolLayers),thumbnail:i(this.thumbnail)})}static fromJSON(t){let r=new Mt;if(r.read(t),r.symbolLayers.length===2&&r.symbolLayers.at(0).type==="fill"&&r.symbolLayers.at(1).type==="line"){let a=r.symbolLayers.at(0),n=r.symbolLayers.at(1);!n.enabled||t.symbolLayers?.[1]&&t.symbolLayers[1].enable===!1||(a.outline={size:n.size,color:n.material!=null?n.material.color:null}),r.symbolLayers.removeAt(1)}return r}static fromSimpleFillSymbol(t){return new Mt({symbolLayers:new y([$.fromSimpleFillSymbol(t)])})}};e([o({type:qo,json:{write:!0}})],Nt.prototype,"symbolLayers",void 0),e([l({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],Nt.prototype,"type",void 0),Nt=Mt=e([s("esri.symbols.PolygonSymbol3D")],Nt);var Ct=Nt;var Qe,D=Qe=class extends w{constructor(t){super(t),this.color=null,this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){let t=this.portal!=null?this.portal:X.getDefault(),r=t.user?t.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${r}:${t.url}`}read(t,r){this.portal=r?.portal,super.read(t,r)}clone(){return new Qe({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(t){let r=t&&"acceptedFormats"in t?t.acceptedFormats:["web"];return this._fetchSymbol(u(c({},t),{acceptedFormats:r}))}async fetchCIMSymbol(t){let r=await this.fetchSymbol(u(c({},t),{acceptedFormats:["cim"]}));if(r?.type!=="cim")throw new Xe("webstylesymbol:fetchCIMSymbol","Resolved web style symbol is not of type 'cim'");return r}async _fetchSymbol(t){let r=t!=null?t.cache:null,a=r?this._fetchCacheKey:null;if(r!=null){let Rt=a&&r.get(a);if(Rt)return Rt.clone()}let{resolveWebStyleSymbol:n}=await import("./chunk-CMQSHEHN.js");Ye(t);let h=n(this,{portal:this.portal},t);h.catch(Rt=>{C.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",Rt)});let bt=await h;return r?.set(a,bt.clone()),bt}};e([o({json:{write:!1}})],D.prototype,"color",void 0),e([o({type:String,json:{write:!0}})],D.prototype,"styleName",void 0),e([o({type:X,json:{write:!1}})],D.prototype,"portal",void 0),e([o({type:String,json:{read:Ut,write:Wt}})],D.prototype,"styleUrl",void 0),e([o({type:Z,json:{read:!1}})],D.prototype,"thumbnail",void 0),e([o({type:String,json:{write:!0}})],D.prototype,"name",void 0),e([l({styleSymbolReference:"web-style"},{readOnly:!0})],D.prototype,"type",void 0),e([o()],D.prototype,"_fetchCacheKey",null),D=Qe=e([s("esri.symbols.WebStyleSymbol")],D);var Tt=D;function Eu(t){if(!t)return!1;switch(t.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function Vu(t){switch(t?.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}var Io={base:w,key:"type",typeMap:{"simple-fill":$t,"picture-fill":ge,"picture-marker":gt,"simple-line":Vt,"simple-marker":wt,text:vt,"label-3d":fe,"line-3d":Pt,"mesh-3d":ve,"point-3d":_t,"polygon-3d":Ct,"web-style":Tt,cim:W},errorContext:"symbol"};var $u={base:w,key:"type",typeMap:{"picture-marker":gt,"simple-marker":wt,"point-3d":_t,cim:W},errorContext:"symbol"},Bu={base:w,key:"type",typeMap:{"simple-line":Vt,"line-3d":Pt,cim:W},errorContext:"symbol"},Ju={base:w,key:"type",typeMap:{"simple-fill":$t,"picture-fill":ge,"polygon-3d":Ct,cim:W},errorContext:"symbol"},Ku={base:w,key:"type",typeMap:{"picture-marker":gt,"simple-marker":wt,text:vt,"web-style":Tt,cim:W},errorContext:"symbol"},Qu=to({types:Io}),Gu={base:w,key:"type",typeMap:{"simple-fill":$t,"picture-fill":ge,"picture-marker":gt,"simple-line":Vt,"simple-marker":wt,text:vt,"line-3d":Pt,"mesh-3d":ve,"point-3d":_t,"polygon-3d":Ct,"web-style":Tt,cim:W},errorContext:"symbol"},Xu={base:w,key:"type",typeMap:{text:vt,"label-3d":fe},errorContext:"symbol"};var Yu={base:w,key:"type",typeMap:{"line-3d":Pt,"mesh-3d":ve,"point-3d":_t,"polygon-3d":Ct,"web-style":Tt,cim:W},errorContext:"symbol"},Zu={base:w,key:"type",typeMap:{"label-3d":fe},errorContext:"symbol"},th=Ze(Io);export{W as a,v as b,jo as c,Xt as d,d as e,$ as f,pr as g,et as h,P as i,B as j,xr as k,_ as l,Kt as m,Z as n,Co as o,ce as p,fy as q,by as r,Dt as s,fe as t,Pt as u,ve as v,_t as w,Ct as x,Tt as y,Eu as z,Vu as A,Io as B,$u as C,Bu as D,Ju as E,Ku as F,Qu as G,Gu as H,Xu as I,Yu as J,Zu as K,th as L};
