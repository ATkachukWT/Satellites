import{a as u}from"./chunk-2IZGBHXN.js";import{a as o,d as p,j as n}from"./chunk-MWSXMSWY.js";import{f as v}from"./chunk-JRCKELO6.js";import{I as m}from"./chunk-WZDN6K3C.js";import{a as r}from"./chunk-QGVBCWUY.js";import{A as c,d as l}from"./chunk-CKJ56T2Q.js";function x(t,i){t.interactive=!0;let{tool:a,view:s}=t;s.activeTool=a;let e=c(i,()=>{s.activeTool===a&&(s.activeTool=null)});return v(async f=>{await p(()=>a==null||!a.active,f),e=l(e)},i)}function B(t,i){return o(()=>t.interactive,()=>d(t,i),n)}function d(t,i){t.interactive?T(t,i):w(t)}function T(t,i){w(t);let{view:a,analysis:s}=t,e=new i({view:a,analysis:s,analysisViewData:t});return t.tool=e,a.tools.add(e),e}function w(t){let{view:i,tool:a}=t;a!=null&&(i.tools.remove(a),t.tool=null)}var y=class extends u{constructor(t){super(t)}initialize(){this.addHandles(o(()=>this.analysisViewData.visible,t=>this.visible=t,n))}deactivate(){this.onDeactivate(),this.created||this.analysis.clear()}resetCreated(){this._set("created",!1)}};y=r([m("esri.views.interactive.AnalysisToolBase")],y);export{y as a,x as b,B as c,w as d};
